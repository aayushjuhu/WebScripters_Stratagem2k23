<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CouponZo</title>
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body>
    <div class="container">
      <aside>
        <div class="top">
          <div class="logo">
            <img src="./images/logo.png" />
          </div>
          <div class="close" id="close-btn">
            <span class="material-icons-sharp">close</span>
          </div>
        </div>
        <div class="sidebar">
          <a href="#">
            <span class="material-icons-sharp"> grid_view </span>
            <h3>Dashboard</h3>
          </a>
          <a href="#" class="active">
            <span class="material-icons-sharp"> person_outline </span>
            <h3>Customer</h3>
          </a>
          <a href="#">
            <span class="material-icons-sharp"> receipt_long </span>
            <h3>Orders</h3>
          </a>
          <a href="#">
            <span class="material-icons-sharp"> insights </span>
            <h3>Analytics</h3>
          </a>

          <a href="#" onclick="openCModal()">
            <span class="material-icons-sharp"> add </span>
            <h3>Add Coupon</h3>
          </a>
          <a href="#">
            <span class="material-icons-sharp"> logout </span>
            <h3>Logout</h3>
          </a>
        </div>
      </aside>
      <!--------------------- End OF ASIDE------------------------------->
      <main>
        <h1>Dashboard</h1>
        <div class="insights">
          <div class="sales">
            <span class="material-icons-sharp"> analytics </span>
            <div class="middle">
              <div class="left">
                <h3>Total Coupons</h3>
                <h1><%=total_coupons%></h1>
              </div>
              <div class="progress">
                <svg>
                  <circle cx="38" cy="38" r="36"></circle>
                </svg>
                <div class="number">
                  <p>81%</p>
                </div>
              </div>
            </div>
          </div>
          <div class="expenses">
            <span class="material-icons-sharp"> bar_chart </span>
            <div class="middle">
              <div class="left">
                <h3>Total Coupons used</h3>
                <h1><%=users.coupon_used%></h1>
              </div>
              <div class="progress">
                <svg>
                  <circle cx="38" cy="38" r="36"></circle>
                </svg>
                <div class="number">
                  <p>61%</p>
                </div>
              </div>
            </div>
          </div>
          <!------------------------------------End of expenses-->
          <div class="income">
            <span class="material-icons-sharp"> stacked_line_chart </span>
            <div class="middle">
              <div class="left">
                <h3>Billing</h3>
                <h1><%=users.balance_bill%> INR</h1>
              </div>
              <div class="progress">
                <svg>
                  <circle cx="38" cy="38" r="36"></circle>
                </svg>
                <div class="number">
                  <p>44%</p>
                </div>
              </div>
            </div>
          </div>

          <!-------------------------End of INCOMES--->
        </div>
        <!--------------------------End of Insights-->
        <div class="recent-orders">
          <h2>Recent Orders</h2>
          <table>
            <thead>
              <tr>
                <th>Order ID</th>
                <th>Custom Prefix</th>
                <th>No. of coupons</th>
                <th>Redemption limit</th>
                <th>Format</th>
                <th>Discount type</th>
                <th>Discount Number</th>
                <th>Expiry</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <% for(var i = 0 ; i< users.coupon.length ;i++) {%>
              <tr>
                <td>
                  <a
                    href="http://localhost:3000/generate-coupons/orderId/<%= users.coupon[i]._id %>"
                    ><%= users.coupon[i]._id %></a
                  >
                </td>
                <td><%= users.coupon[i].customPrefix %></td>
                <td><%= users.coupon[i].numCodes %></td>
                <td><%= users.coupon[i].redemptionLimit %></td>
                <td><%= users.coupon[i].format %></td>
                <td><%= users.coupon[i].discountType %></td>
                <td><%= users.coupon[i].discount_number %></td>
                <td class="warning"><%= users.coupon[i].expiry %></td>
              </tr>
              <% } %>
            </tbody>
          </table>
          <a href="#">Show All</a>
        </div>
      </main>
      <!--------End of Main-->
      <div class="right">
        <div class="top">
          <button id="menu-btn">
            <span id="men" class="material-icons-sharp">menu</span>
          </button>
          <div class="theme-toggler">
            <span class="material-icons-sharp active">light_mode</span>
            <span class="material-icons-sharp">dark_mode</span>
          </div>
          <div class="profile">
            <div class="info">
              <p>Hey,<b><%= users.username %></b></p>
              <small class="text-muted"> Admin </small>
            </div>
            <div class="profile-photo">
              <!-- <img src="./images/profile1.jpeg" alt="" srcset="" /> -->
            </div>
          </div>
        </div>
        <!-----------End of Top--------------------->
        <!-- <div class="recent-updates">
          <h2>Recent Updates</h2>
          <div class="updates">
            <div class="update">
              <div class="profile-photo">
                <img src="./images/download.jpg" alt="" srcset="" />
              </div>
              <div class="message">
                <p>
                  <b>Bilal</b> recived his order of Night lion tech GPS drone.
                </p>
                <small class="text-muted">2 Minutes Ago</small>
              </div>
            </div>
            <div class="update">
              <div class="profile-photo">
                <img src="./images/Screenshot (425).png" alt="" srcset="" />
              </div>
              <div class="message">
                <p>
                  <b>Bilal</b> recived his order of Night lion tech GPS drone.
                </p>
                <small class="text-muted">2 Minutes Ago</small>
              </div>
            </div>
            <div class="update">
              <div class="profile-photo">
                <img src="./images/jk.jpg" alt="" srcset="" />
              </div>
              <div class="message">
                <p>
                  <b>Bilal</b> recived his order of Night lion tech GPS drone.
                </p>
                <small class="text-muted">2 Minutes Ago</small>
              </div>
            </div>
          </div>
        </div> -->
        <!---------------END OF RECENT UPDATES-->
        <div class="sales-analytics">
          <h2>Sales Analytics</h2>
          <div class="item online">
            <div class="icon">
              <span class="material-icons-sharp"> shopping_cart </span>
            </div>
            <div class="right">
              <div class="info">
                <h3>Static Coupons</h3>
              </div>
              <!-- <h5 class="success">+39%</h5> -->
              <h3>3849</h3>
            </div>
          </div>
          <div class="item offline">
            <div class="icon">
              <span class="material-icons-sharp"> local_mall </span>
            </div>
            <div class="right">
              <div class="info">
                <h3>Dynamic Coupons</h3>
              </div>
              <!-- <h5 class="success">-17%</h5> -->
              <h3>1100</h3>
            </div>
          </div>
          <!-- <div class="item customers">
            <div class="icon">
              <span class="material-icons-sharp"> person </span>
            </div>
            <div class="right">
              <div class="info">
                <h3>New Customers</h3>
              </div>
              <h5 class="success">+25%</h5>
              <h3>849</h3>
            </div>
          </div> -->

          <div class="item add-product">
            <div onclick="openCModal()">
              <span class="material-icons-sharp">add</span>
              <h3>Add Coupon</h3>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal popup -->
    <div id="myModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>Edit coupon</h2>
        <div class="form">
          <div>
            <label>No. of coupons</label>
            <input type="number" />
          </div>
          <div>
            <label for="limit">Redemption limit</label>
            <input type="number" name="limit" />
          </div>
          <div>
            <label for="format">Format</label>
            <select class="formselect" name="format">
              <option value="alphabetic">Alphabetic</option>
              <option value="numeric">Numeric</option>
              <option value="alphanumeric">Alpha Numeric</option>
            </select>
          </div>

          <div><label>Custom Prefix</label> <input type="text" /></div>

          <div>
            <label>Applicable to</label>
            <select class="formselect">
              <option value="sku">SKU</option>
              <option value="cart">Cart</option>
            </select>
          </div>

          <div>
            <label>Discount type</label>
            <select for="type">
              <option value="price">Price</option>
              <option value="percent">Percentage</option>
            </select>
          </div>

          <div>
            <label>Discount number</label>
            <input type="number" />
          </div>

          <div>
            <label>Max discount amount</label>
            <input type="number" />
          </div>

          <div>
            <label>Length of code</label>
            <input type="number" />
          </div>

          <div>
            <label>Expiry</label>
            <input type="date" />
          </div>

          <div>
            <label>Conditions</label>
            <input type="radio" name="select" />
            <label for="minbill">Minimum Billing</label>
            <input type="radio" name="select" />
            <label for="minbill">Minimum Quantity</label>
          </div>

          <div>
            <label>Value for condition</label>
            <input type="number" />
          </div>
        </div>
        <div class="buttonbar">
          <button class="conf" onclick="closeModal()">Confirm</button>
          <button class="cancel" onclick="closeModal()">Cancel</button>
        </div>
      </div>
    </div>

    <!-- The Add coupon model starts here -->

    <div id="addCouponModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeCModal()">&times;</span>
        <h2>Add coupon</h2>
        <form
          class="form"
          method="post"
          onsubmit="return validateDatas()"
          action="/generate-coupons"
        >
          <div>
            <label>No. of coupons</label>
            <input type="number" name="numCodes" id="numCodes" />
          </div>
          <div>
            <label>Redemption limit</label>
            <input type="number" name="redemptionLimit" id="redemptionLimit" />
          </div>
          <div>
            <label for="format">Format</label>
            <select class="formselect" name="format" id="format">
              <option value="alphabetic">Alphabetic</option>
              <option value="numeric">Numeric</option>
              <option value="alphanumeric">Alpha Numeric</option>
            </select>
          </div>

          <div>
            <label>Custom Prefix</label>
            <input type="text" name="customPrefix" id="customPrefix" />
          </div>

          <div>
            <label>Applicable to</label>
            <input type="text" name="applicableTo" id="applicableTo" />
          </div>

          <div>
            <label>Discount type</label>
            <select for="type" name="discountType" id="discountType">
              <option value="amount">Price</option>
              <option value="percentage">Percentage</option>
            </select>
          </div>

          <div>
            <label>Discount number</label>
            <input type="number" name="discount_number" id="discount_number" />
          </div>

          <div>
            <label>Max discount amount</label>
            <input
              type="number"
              name="maxDiscountAmount"
              id="maxDiscountAmount"
            />
          </div>

          <div>
            <label>Length of code</label>
            <input type="number" name="length" id="length" />
          </div>

          <div>
            <label>Expiry</label>
            <input type="date" name="expiry" id="expiry" />
          </div>

          <!-- <div>
            <label>Conditions</label>
            <input type="radio" name="select" />
            <label for="minbill">Minimum Billing</label>
            <input type="radio" name="select" />
            <label for="minbill">Minimum Quantity</label>
          </div> -->

          <div>
            <label>Value for condition</label>
            <input type="text" id="condition" name="condition" />
          </div>

          <div class="buttonbar">
            <button class="conf" onclick="closeCModal()">Confirm</button>
            <button class="cancel" onclick="closeCModal()">Cancel</button>
          </div>
        </form>
      </div>
    </div>

    <script src="/javascript/dash.js"></script>
  </body>
</html>
